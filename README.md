# microbe
200 bytes js templating engine for browser and node

input

![](https://i.imgur.com/HVuDykf.png)

output

![](https://i.imgur.com/Yxtij8c.png)

## [live demo on jsbin](https://jsbin.com/zawimed/edit?js,output).

### How to use:
1.	Paste minified source into your code
```javascript
let m=(...t)=>t.map(t=>window[t]=(...p)=>((n,a,d=document)=>(n=d.createElement(t),p.flat().map(e=>{if(e.constructor==Object){for(a in e)n[a]=e[a]}else n.appendChild(e.after?e:d.createTextNode(e))}),n))())
```
2.	Call m function to declare tags you need
```javascript
m('DIV', 'A', 'B', 'UL', 'LI', 'I', 'H1');
```
3.	Than it should work
```javascript
A({ href: 'http://m' }, 'hello world',
    B('bold', I('and italic'))
)
```

### Few things to note:

You can use lower case 
```javascript
m('div', 'a', 'b', 'ul', 'li', 'i', 'h1');
```

functions generated by m() always return a dom node

you can use as many params as you need and they can be added in any order

arrays are flattened - 
```html
div(['hello', ' ', world], ' some text') == <div>hello world some text</div>
```
objects are parsed and key => value is set to newly created dom element -
```html
div({id: 'test'}) == <div id="test"></div>
```
any other type will produce a textNode (string, int, bool etc) - 
```html
div(true, 7) == <div>true7</div>
```

### How it works:

Generally it’s a simple wrapper over .createElement, .createTextNode, .appendChild and .setAttribute

The only tricky thing about it is this line
```javascript
tags.map(tag => window[tag] = (...params) => microbe.new(tag, params)),
```
function in this loop creates global variables from params and sets very simple [curry](https://en.wikipedia.org/wiki/Currying) function in to it.
Curry function does 3 things:
It collects params, caches current tag in its scope, calls wrapper to parse params.

To use it in node you will need jsdom dependency or something similar – check out examples
