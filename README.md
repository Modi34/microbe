# microbe
200 bytes js templating engine for browser and node

input

![](https://i.imgur.com/HVuDykf.png)

output

![](https://i.imgur.com/Yxtij8c.png)

##How to use:
1.	Paste minified source into your code
```javascript
let m=(...t)=>{t.map(e=>window[e]=(...p)=>n(e,p));let n=(t,p,a,d=document)=>(t=d.createElement(t),p.map(e=>{if((a=e.blur)||e.big){t.appendChild(a?e:d.createTextNode(e))}else for(a in e)t[a]=e[a]}),t)}
```
2.	Call m function to declare tags you need
```javascript
m('DIV', 'A', 'B', 'UL', 'LI', 'I', 'H1');
```
3.	Than it should work
```javascript
A({ href: 'http://m' }, 'hello world',
    B('bold', I('and italic'))
)
```

##Few things to note:

You can use lower case if you want 
```javascript
m('div', 'a', 'b', 'ul', 'li', 'i', 'h1');
```
but you will need to call in lower case too -  div(), a() etc

function generated by m() will always return a dom node – you can do things like  a().classlist.add('some class') 

functions it generates accept strings and objects only – array will return an error
any string will produce text node, any dom node will be appended and any object will be used to set current node attributes

you can use as many params as you need and they can be in any order

##How it works:
Generally it’s a simple wrapper over .createElement, .createTextNode, .appendChild and .setAttribute

The only tricky thing about it is this line
```javascript
tags.map(tag => window[tag] = (...params) => microbe.new(tag, params)),
```
function in this loop creates global variables from params and sets very simple [curry](https://en.wikipedia.org/wiki/Currying) function in to it.
Curry function does 3 things:
It collects params, caches current tag in its scope, calls wrapper to parse params.

To use it in node you will need jsdom dependency or something similar – check out example

[live demo on jsbin](https://jsbin.com/zawimed/edit?js,output).
